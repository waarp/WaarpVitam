<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.8) on Wed Sep 30 15:20:32 CEST 2020 -->
<title>org.waarp.vitam.ingest (Waarp Vitam Module 1.0.3)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-09-30">
<meta name="keywords" content="org.waarp.vitam.ingest package">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="org.waarp.vitam.ingest (Waarp Vitam Module 1.0.3)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<main role="main">
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.waarp.vitam.ingest</h1>
</div>
<div class="contentContainer">
<section role="region"><a id="package.description">
<!--   -->
</a>
<div class="block">Ingest package contains all logic to apply from a Waarp reception of SIP
 to Vitam ingest operation, and possibly the feedback operations, first
 (mandatory) being the id of the ingest request, and second being the
 pooling on ingest status and ATR from Vitam, leading to a forward of the
 ATR to the partner as defined.<br>
 If the second is not done, it is the responsability of the Waarp partner,
 when it receives the id of the Ingest operation from Vitam through Waarp
 to handle directly the handling of the final status and its ATR.<br>
 <br>

 Ingest is an upload into Vitam of a SIP (binary file in ZIP format) of
 archives. This plugin allows to not use HTTP upload but special HTTP local
 upload command of Vitam, using Waarp to upload the SIP.<br>
 <br>
 Waarp-Vitam Ingest plugin works as a Vitam Ingest client as follow:<br>
 <br>
 <ol>
 <li>After reception through Waarp, one post-operation will call this plugin
 (through an ExecCommand or a JavaCommand) with extra informations as
 needed. The command is the IngestTask main command (or constructor) to
 allow the creation of the IngestRequest.</li>
 <li>The plugin will use the following command from Vitam Ingest Client:<br>
 <ul>
 <li><code>RequestResponse&lt;Void&gt; ingestLocal(VitamContext vitamContext,
 LocalFile localFile, String contextId, String action) throws
 IngestExternalException;</code></li>
 <li>Where arguments are:
 <ul>
 <li>vitamContext = Among various information needed or optional for Vitam as
 the tenant Id, the Access Contract, the ApplicationSessionId, the
 PersonalCertificate</li>
 <li>localFile = the path to the local SIP file</li>
 <li>contextId = context of the SIP, among DEFAULT_WORKFLOW, HOLDING_SCHEME,
 FILING_SCHEME,BLANK_TEST</li>
 <li>action = "RESUME" (no TEST mode will be supported such as "NEXT"</li>
 </ul></li></ul></li>
 <li>Check Ingest and feedback:<br>
 <ul>
 <li>Once the SIP is passed to Vitam, an ID of Ingest Operation is given back
 to the Waarp Partner.</li>
 <li>If the IngestRequest asks for it, the IngestMonitor will then pooling
 the status of the Ingest to get back the ATR (ArchiveTransferReply) using
 the following Vitam client command:<br>
 <ul>
 <li><code>Response downloadObjectAsync(VitamContext vitamContext,String
 objectId, IngestCollection type) throws VitamClientException;
 </code></li></ul></li>
 <li>When received, the ATR is sent back to the Waarp Partner and the
 IngesrRequest is closed.</li>
 </ul></li>
 <li>The pooling for the availability of the ATR is done using:<br>
 <ul><li><code>RequestResponse&lt;ItemStatus&gt; getOperationProcessStatus
 (VitamContext vitamContext, String id)throws VitamClientException;</code></li></ul>
 </li>
 </ol>
 <br>
 Documentation:<br>
 <ul>
 <li>http://www.programmevitam.fr/ressources/DocCourante/html/manuel-integration/client-usage.html</li>
 <li>http://www.programmevitam.fr/ressources/DocCourante/raml/externe/ingest.html</li>
 <li>http://www.programmevitam.fr/ressources/DocCourante/javadoc/fr/gouv/vitam/ingest/external/client/IngestExternalClient.html</li>
 <li>http://www.programmevitam.fr/ressources/DocCourante/html/archi/archi-applicative/20-services-list.html#api-externes-ingest-external-et-access-external</li>
 <li>http://www.programmevitam.fr/ressources/DocCourante/html/archi/archi-exploit-infra/services/ingest-external.html</li>
 <li>http://www.programmevitam.fr/ressources/DocCourante/html/archi/securite/00-principles.html#principes-de-securisation-des-acces-externes</li>
 </ul></div>
</section>
<ul class="blockList">
<li class="blockList">
<table class="typeSummary">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="IngestManager.html" title="class in org.waarp.vitam.ingest">IngestManager</a></th>
<td class="colLast">
<div class="block">IngestManager is the central logic for Ingest management between Waarp and
 Vitam</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="IngestMonitor.html" title="class in org.waarp.vitam.ingest">IngestMonitor</a></th>
<td class="colLast">
<div class="block">IngestMonitor is the daemon taking care of IngestRequests through a
 directory containing JSON files</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="IngestRequest.html" title="class in org.waarp.vitam.ingest">IngestRequest</a></th>
<td class="colLast">
<div class="block">IngestRequest is the unitary entry for Ingest operations made by Waarp to
 Vitam</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="IngestRequestFactory.html" title="class in org.waarp.vitam.ingest">IngestRequestFactory</a></th>
<td class="colLast">
<div class="block">Factory that handles IngestRequest within a directory</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="IngestTask.html" title="class in org.waarp.vitam.ingest">IngestTask</a></th>
<td class="colLast">
<div class="block">IngestTask is a one shot command that will initiate one specific Ingest
 operation from a Waarp post task on reception.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="IngestTask.JavaTask.html" title="class in org.waarp.vitam.ingest">IngestTask.JavaTask</a></th>
<td class="colLast">
<div class="block">Equivalent JavaTask</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2019&#x2013;2020 <a href="http://www.waarp.fr">Waarp</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
